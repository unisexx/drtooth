/*	
 *	jQuery carouFredSel 5.6.4
 *	Demo's and documentation:
 *	caroufredsel.frebsite.nl
 *	
 *	Copyright (c) 2012 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 *	Modified and packed by QuanticaLabs (updateSizesCustom event added)
 */

(function($){function sc_setScroll(e,t){return{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e){if(typeof e.pre=="object"){sc_startScroll(e.pre)}for(var t=0,n=e.anims.length;t<n;t++){var r=e.anims[t];if(!r)continue;if(r[3])r[0].stop();r[0].animate(r[1],{complete:r[2],duration:e.duration,easing:e.easing})}if(typeof e.post=="object"){sc_startScroll(e.post)}}function sc_stopScroll(e,t){if(typeof t!="boolean")t=true;if(typeof e.pre=="object"){sc_stopScroll(e.pre,t)}for(var n=0,r=e.anims.length;n<r;n++){var i=e.anims[n];i[0].stop(true);if(t){i[0].css(i[1]);if(typeof i[2]=="function")i[2]()}}if(typeof e.post=="object"){sc_stopScroll(e.post,t)}}function sc_clearTimers(e){if(e.auto)clearTimeout(e.auto);return e}function sc_callCallbacks(e,t,n){if(e.length){for(var r=0,i=e.length;r<i;r++){e[r].apply(t,n)}}return[]}function fx_fade(e,t,n,r,i){var s={duration:r,easing:e.easing};if(typeof i=="function")s.complete=i;t.animate({opacity:n},s)}function fx_cover(e,t,n,r,i){var s=ms_getSizes(gi_getOldItemsNext(t.children(),r),r,true)[0],o=ms_getSizes(n.children(),r,true)[0],u=i?-o:s,a={},f={};a[r.d["width"]]=o;a[r.d["left"]]=u;f[r.d["left"]]=0;e.pre.anims.push([t,{opacity:1}]);e.post.anims.push([n,f,function(){$(this).remove()}]);n.css(a);return e}function fx_uncover(e,t,n,r,i,s){var o=ms_getSizes(gi_getNewItemsNext(t.children(),r,s),r,true)[0],u=ms_getSizes(n.children(),r,true)[0],a=i?-u:o,f={},l={};f[r.d["width"]]=u;f[r.d["left"]]=0;l[r.d["left"]]=a;e.post.anims.push([n,l,function(){$(this).remove()}]);n.css(f);return e}function nv_showNavi(e,t,n){if(t=="show"||t=="hide"){var r=t}else if(e.items.minimum>=t){debug(n,"Not enough items: hiding navigation ("+t+" items, "+e.items.minimum+" needed).");var r="hide"}else{var r="show"}var i=r=="show"?"removeClass":"addClass",s=cf_c("hidden",n);if(e.auto.button)e.auto.button[r]()[i](s);if(e.prev.button)e.prev.button[r]()[i](s);if(e.next.button)e.next.button[r]()[i](s);if(e.pagination.container)e.pagination.container[r]()[i](s)}function nv_enableNavi(e,t,n){if(e.circular||e.infinite)return;var r=t=="removeClass"||t=="addClass"?t:false,i=cf_c("disabled",n);if(e.auto.button&&r){e.auto.button[r](i)}if(e.prev.button){var s=r||t==0?"addClass":"removeClass";e.prev.button[s](i)}if(e.next.button){var s=r||t==e.items.visible?"addClass":"removeClass";e.next.button[s](i)}}function go_getObject(e,t){if(typeof t=="function")t=t.call(e);if(typeof t=="undefined")t={};return t}function go_getNaviObject(e,t,n){if(typeof n!="string")n="";t=go_getObject(e,t);if(typeof t=="string"){var r=cf_getKeyCode(t);if(r==-1)t=$(t);else t=r}if(n=="pagination"){if(typeof t=="boolean")t={keys:t};if(typeof t.jquery!="undefined")t={container:t};if(typeof t.container=="function")t.container=t.container.call(e);if(typeof t.container=="string")t.container=$(t.container);if(typeof t.items!="number")t.items=false}else if(n=="auto"){if(typeof t.jquery!="undefined")t={button:t};if(typeof t=="boolean")t={play:t};if(typeof t=="number")t={pauseDuration:t};if(typeof t.button=="function")t.button=t.button.call(e);if(typeof t.button=="string")t.button=$(t.button)}else{if(typeof t.jquery!="undefined")t={button:t};if(typeof t=="number")t={key:t};if(typeof t.button=="function")t.button=t.button.call(e);if(typeof t.button=="string")t.button=$(t.button);if(typeof t.key=="string")t.key=cf_getKeyCode(t.key)}return t}function gn_getItemIndex(e,t,n,r,i){if(typeof e=="string"){if(isNaN(e))e=$(e);else e=parseInt(e)}if(typeof e=="object"){if(typeof e.jquery=="undefined")e=$(e);e=i.children().index(e);if(e==-1)e=0;if(typeof n!="boolean")n=false}else{if(typeof n!="boolean")n=true}if(isNaN(e))e=0;else e=parseInt(e);if(isNaN(t))t=0;else t=parseInt(t);if(n){e+=r.first}e+=t;if(r.total>0){while(e>=r.total){e-=r.total}while(e<0){e+=r.total}}return e}function gn_getVisibleItemsPrev(e,t,n){var r=0,i=0;for(var s=n;s>=0;s--){var o=e.eq(s);r+=o.is(":visible")?o[t.d["outerWidth"]](true):0;if(r>t.maxDimention)return i;if(s==0)s=e.length;i++}}function gn_getVisibleItemsPrevFilter(e,t,n){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,n)}function gn_getScrollItemsPrevFilter(e,t,n,r){return gn_getItemsPrevFilter(e,t.items.filter,r,n)}function gn_getItemsPrevFilter(e,t,n,r){var i=0,s=0;for(var o=r,u=e.length;o>=0;o--){s++;if(s==u)return s;var a=e.eq(o);if(a.is(t)){i++;if(i==n)return s}if(o==0)o=u}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,n){var r=0,i=0;for(var s=n,o=e.length-1;s<=o;s++){var u=e.eq(s);r+=u.is(":visible")?u[t.d["outerWidth"]](true):0;if(r>t.maxDimention)return i;i++;if(i==o+1)return i;if(s==o)s=-1}}function gn_getVisibleItemsNextTestCircular(e,t,n,r){var i=gn_getVisibleItemsNext(e,t,n);if(!t.circular){if(n+i>r)i=r-n}return i}function gn_getVisibleItemsNextFilter(e,t,n){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,n,t.circular)}function gn_getScrollItemsNextFilter(e,t,n,r){return gn_getItemsNextFilter(e,t.items.filter,r+1,n,t.circular)-1}function gn_getItemsNextFilter(e,t,n,r,i){var s=0,o=0;for(var u=r,a=e.length-1;u<=a;u++){o++;if(o==a)return o;var f=e.eq(u);if(f.is(t)){s++;if(s==n)return o}if(u==a)u=-1}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,n){return e.slice(n,t.items.visibleConf.old+n)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,n){return e.slice(n,t.items.visible+n)}function sz_resetMargin(e,t,n){var r=typeof n=="boolean"?n:false;if(typeof n!="number")n=0;e.each(function(){var e=$(this);var i=parseInt(e.css(t.d["marginRight"]));if(isNaN(i))i=0;e.data("cfs_tempCssMargin",i);e.css(t.d["marginRight"],r?e.data("cfs_tempCssMargin"):n+e.data("cfs_origCssMargin"))})}function sz_setSizes(e,t,n){var r=e.parent(),i=e.children(),s=gi_getCurrentItems(i,t),o=cf_mapWrapperSizes(ms_getSizes(s,t,true),t,n);r.css(o);if(t.usePadding){var n=t.padding,u=n[t.d[1]];if(t.align){if(u<0)u=0}var a=s.last();a.css(t.d["marginRight"],a.data("cfs_origCssMargin")+u);e.css(t.d["top"],n[t.d[0]]);e.css(t.d["left"],n[t.d[3]])}e.css(t.d["width"],o[t.d["width"]]+ms_getTotalSize(i,t,"width")*2);e.css(t.d["height"],ms_getLargestSize(i,t,"height"));return o}function ms_getSizes(e,t,n){var r=ms_getTotalSize(e,t,"width",n),i=ms_getLargestSize(e,t,"height",n);return[r,i]}function ms_getLargestSize(e,t,n,r){if(typeof r!="boolean")r=false;if(typeof t[t.d[n]]=="number"&&r)return t[t.d[n]];if(typeof t.items[t.d[n]]=="number")return t.items[t.d[n]];var i=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(e,t,i)}function ms_getTrueLargestSize(e,t,n){var r=0;for(var i=0,s=e.length;i<s;i++){var o=e.eq(i);var u=o.is(":visible")?o[t.d[n]](true):0;if(r<u)r=u}return r}function ms_getTrueInnerSize(e,t,n){if(!e.is(":visible"))return 0;var r=e[t.d[n]](),i=t.d[n].toLowerCase().indexOf("width")>-1?["paddingLeft","paddingRight"]:["paddingTop","paddingBottom"];for(var s=0,o=i.length;s<o;s++){var u=parseInt(e.css(i[s]));r-=isNaN(u)?0:u}return r}function ms_getTotalSize(e,t,n,r){if(typeof r!="boolean")r=false;if(typeof t[t.d[n]]=="number"&&r)return t[t.d[n]];if(typeof t.items[t.d[n]]=="number")return t.items[t.d[n]]*e.length;var i=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",s=0;for(var o=0,u=e.length;o<u;o++){var a=e.eq(o);s+=a.is(":visible")?a[t.d[i]](true):0}return s}function ms_hasVariableSizes(e,t,n){var r=false,i=false;for(var s=0,o=e.length;s<o;s++){var u=e.eq(s);var a=u.is(":visible")?u[t.d[n]](true):0;if(r===false)r=a;else if(r!=a)i=true;if(r==0)i=true}return i}function ms_getPaddingBorderMargin(e,t,n){return e[t.d["outer"+n]](true)-ms_getTrueInnerSize(e,t,"inner"+n)}function ms_isPercentage(e){return typeof e=="string"&&e.slice(-1)=="%"}function ms_getPercentage(e,t){if(ms_isPercentage(t)){t=t.slice(0,-1);if(isNaN(t))return e;e*=t/100}return e}function cf_e(e,t,n,r,i){if(typeof n!="boolean")n=true;if(typeof r!="boolean")r=true;if(typeof i!="boolean")i=false;if(n)e=t.events.prefix+e;if(r)e=e+"."+t.events.namespace;if(r&&i)e+=t.serialNumber;return e}function cf_c(e,t){return typeof t.classnames[e]=="string"?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,n){if(typeof n!="boolean")n=true;var r=t.usePadding&&n?t.padding:[0,0,0,0];var i={};i[t.d["width"]]=e[0]+r[1]+r[3];i[t.d["height"]]=e[1]+r[0]+r[2];return i}function cf_sortParams(e,t){var n=[];for(var r=0,i=e.length;r<i;r++){for(var s=0,o=t.length;s<o;s++){if(t[s].indexOf(typeof e[r])>-1&&typeof n[s]=="undefined"){n[s]=e[r];break}}}return n}function cf_getPadding(e){if(typeof e=="undefined")return[0,0,0,0];if(typeof e=="number")return[e,e,e,e];else if(typeof e=="string")e=e.split("px").join("").split("em").join("").split(" ");if(!is_array(e)){return[0,0,0,0]}for(var t=0;t<4;t++){e[t]=parseInt(e[t])}switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var n=typeof t[t.d["width"]]=="number"?Math.ceil(t[t.d["width"]]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,n];case"right":return[n,0];case"center":default:return[Math.ceil(n/2),Math.floor(n/2)]}}function cf_getAdjust(e,t,n,r){var i=e;if(typeof n=="function"){i=n.call(r,i)}else if(typeof n=="string"){var s=n.split("+"),o=n.split("-");if(o.length>s.length){var u=true,a=o[0],f=o[1]}else{var u=false,a=s[0],f=s[1]}switch(a){case"even":i=e%2==1?e-1:e;break;case"odd":i=e%2==0?e-1:e;break;default:i=e;break}f=parseInt(f);if(!isNaN(f)){if(u)f=-f;i+=f}}if(typeof i!="number")i=1;if(i<1)i=1;return i}function cf_getItemsAdjust(e,t,n,r){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,n,r),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){if(typeof t.min=="number"&&e<t.min)e=t.min;if(typeof t.max=="number"&&e>t.max)e=t.max;if(e<1)e=1;return e}function cf_getSynchArr(e){if(!is_array(e))e=[[e]];if(!is_array(e[0]))e=[e];for(var t=0,n=e.length;t<n;t++){if(typeof e[t][0]=="string")e[t][0]=$(e[t][0]);if(typeof e[t][1]!="boolean")e[t][1]=true;if(typeof e[t][2]!="boolean")e[t][2]=true;if(typeof e[t][3]!="number")e[t][3]=0}return e}function cf_getKeyCode(e){if(e=="right")return 39;if(e=="left")return 37;if(e=="up")return 38;if(e=="down")return 40;return-1}function cf_setCookie(e,t){if(e)document.cookie=e+"="+t+"; path=/"}function cf_readCookie(e){e+="=";var t=document.cookie.split(";");for(var n=0,r=t.length;n<r;n++){var i=t[n];while(i.charAt(0)==" "){i=i.slice(1)}if(i.indexOf(e)==0){return i.slice(e.length)}}return 0}function bt_pauseOnHoverConfig(e){if(e&&typeof e=="string"){var t=e.indexOf("immediate")>-1?true:false,n=e.indexOf("resume")>-1?true:false}else{var t=n=false}return[t,n]}function bt_mousesheelNumber(e){return typeof e=="number"?e:null}function is_array(e){return typeof e=="object"&&e instanceof Array}function getTime(){return(new Date).getTime()}function debug(e,t){if(typeof e=="object"){var n=" ("+e.selector+")";e=e.debug}else{var n=""}if(!e)return false;if(typeof t=="string")t="carouFredSel"+n+": "+t;else t=["carouFredSel"+n+":",t];if(window.console&&window.console.log)window.console.log(t);return false}if($.fn.carouFredSel)return;$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0];if($cfs.data("cfs_isCarousel")){var starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",[true]])}else{var starting_position=false}$cfs._cfs_init=function(e,t,n){e=go_getObject($tt0,e);var r=["items","scroll","auto","prev","next","pagination"];for(var i=0,s=r.length;i<s;i++){e[r[i]]=go_getObject($tt0,e[r[i]])}if(typeof e.scroll=="number"){if(e.scroll<=50)e.scroll={items:e.scroll};else e.scroll={duration:e.scroll}}else{if(typeof e.scroll=="string")e.scroll={easing:e.scroll}}if(typeof e.items=="number")e.items={visible:e.items};else if(e.items=="variable")e.items={visible:e.items,width:e.items,height:e.items};if(typeof e.items!="object")e.items={};if(t)opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,e);opts=$.extend(true,{},$.fn.carouFredSel.defaults,e);if(typeof opts.items.visibleConf!="object")opts.items.visibleConf={};if(opts.items.start==0&&typeof n=="number"){opts.items.start=n}crsl.upDateOnWindowResize=opts.responsive;crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var o=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var u=o[0].length,a=opts.direction=="right"||opts.direction=="left"?0:1;opts.d={};for(var f=0;f<u;f++){opts.d[o[0][f]]=o[a][f]}var l=$cfs.children();switch(typeof opts.items.visible){case"object":opts.items.visibleConf.min=opts.items.visible.min;opts.items.visibleConf.max=opts.items.visible.max;opts.items.visible=false;break;case"string":if(opts.items.visible=="variable"){opts.items.visibleConf.variable=true}else{opts.items.visibleConf.adjust=opts.items.visible}opts.items.visible=false;break;case"function":opts.items.visibleConf.adjust=opts.items.visible;opts.items.visible=false;break}if(typeof opts.items.filter=="undefined"){opts.items.filter=l.filter(":hidden").length>0?":visible":"*"}if(opts[opts.d["width"]]=="auto"){opts[opts.d["width"]]=ms_getTrueLargestSize(l,opts,"outerWidth")}if(ms_isPercentage(opts[opts.d["width"]])&&!opts.responsive){opts[opts.d["width"]]=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d["width"]]);crsl.upDateOnWindowResize=true}if(opts[opts.d["height"]]=="auto"){opts[opts.d["height"]]=ms_getTrueLargestSize(l,opts,"outerHeight")}if(!opts.items[opts.d["width"]]){if(opts.responsive){debug(true,"Set a "+opts.d["width"]+" for the items!");opts.items[opts.d["width"]]=ms_getTrueLargestSize(l,opts,"outerWidth")}else{opts.items[opts.d["width"]]=ms_hasVariableSizes(l,opts,"outerWidth")?"variable":l[opts.d["outerWidth"]](true)}}if(!opts.items[opts.d["height"]]){opts.items[opts.d["height"]]=ms_hasVariableSizes(l,opts,"outerHeight")?"variable":l[opts.d["outerHeight"]](true)}if(!opts[opts.d["height"]]){opts[opts.d["height"]]=opts.items[opts.d["height"]]}if(!opts.items.visible&&!opts.responsive){if(opts.items[opts.d["width"]]=="variable"){opts.items.visibleConf.variable=true}if(!opts.items.visibleConf.variable){if(typeof opts[opts.d["width"]]=="number"){opts.items.visible=Math.floor(opts[opts.d["width"]]/opts.items[opts.d["width"]])}else{var c=ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth");opts.items.visible=Math.floor(c/opts.items[opts.d["width"]]);opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];if(!opts.items.visibleConf.adjust)opts.align=false}if(opts.items.visible=="Infinity"||opts.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');opts.items.visibleConf.variable=true}}}if(!opts[opts.d["width"]]){opts[opts.d["width"]]="variable";if(!opts.responsive&&opts.items.filter=="*"&&!opts.items.visibleConf.variable&&opts.items[opts.d["width"]]!="variable"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}}if(opts.items.visibleConf.variable){opts.maxDimention=opts[opts.d["width"]]=="variable"?ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"):opts[opts.d["width"]];if(opts.align===false){opts[opts.d["width"]]="variable"}opts.items.visible=gn_getVisibleItemsNext(l,opts,0)}else if(opts.items.filter!="*"){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(l,opts,0)}if(typeof opts.align=="undefined"){opts.align=opts[opts.d["width"]]=="variable"?false:"center"}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts.usePadding=false;if(opts.responsive){if(!opts.items.visibleConf.min)opts.items.visibleConf.min=opts.items.visible;if(!opts.items.visibleConf.max)opts.items.visibleConf.max=opts.items.visible;opts.align=false;opts.padding=[0,0,0,0];var h=$wrp.is(":visible");if(h)$wrp.hide();var p=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d["width"]]);if(typeof opts[opts.d["width"]]=="number"&&p<opts[opts.d["width"]]){p=opts[opts.d["width"]]}if(h)$wrp.show();var d=cf_getItemAdjustMinMax(Math.ceil(p/opts.items[opts.d["width"]]),opts.items.visibleConf);if(d>l.length){d=l.length}var v=Math.floor(p/d),m=opts[opts.d["height"]],g=ms_isPercentage(m);l.each(function(){var e=$(this),t=v-ms_getPaddingBorderMargin(e,opts,"Width");e[opts.d["width"]](t);if(g){e[opts.d["height"]](ms_getPercentage(t,m))}});opts.items.visible=d;opts.items[opts.d["width"]]=v;opts[opts.d["width"]]=d*v}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top")opts.align="left";if(opts.align=="bottom")opts.align="right";switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){var y=cf_getAlignPadding(gi_getCurrentItems(l,opts),opts);opts.usePadding=true;opts.padding[opts.d[1]]=y[1];opts.padding[opts.d[3]]=y[0]}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(typeof opts.cookie=="boolean"&&opts.cookie)opts.cookie="caroufredsel_cookie_"+$cfs.attr("id");if(typeof opts.items.minimum!="number")opts.items.minimum=opts.items.visible;if(typeof opts.scroll.duration!="number")opts.scroll.duration=500;if(typeof opts.scroll.items=="undefined")opts.scroll.items=opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible;opts.auto=go_getNaviObject($tt0,opts.auto,"auto");opts.prev=go_getNaviObject($tt0,opts.prev);opts.next=go_getNaviObject($tt0,opts.next);opts.pagination=go_getNaviObject($tt0,opts.pagination,"pagination");opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);if(typeof opts.pagination.keys!="boolean")opts.pagination.keys=false;if(typeof opts.pagination.anchorBuilder!="function"&&opts.pagination.anchorBuilder!==false)opts.pagination.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder;if(typeof opts.auto.play!="boolean")opts.auto.play=true;if(typeof opts.auto.delay!="number")opts.auto.delay=0;if(typeof opts.auto.pauseOnEvent=="undefined")opts.auto.pauseOnEvent=true;if(typeof opts.auto.pauseOnResize!="boolean")opts.auto.pauseOnResize=true;if(typeof opts.auto.pauseDuration!="number")opts.auto.pauseDuration=opts.auto.duration<10?2500:opts.auto.duration*5;if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(conf.debug){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);if(opts.maxDimention)debug(conf,"Available "+opts.d["width"]+": "+opts.maxDimention);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play)debug(conf,"Number of items scrolled automatically: "+opts.auto.items);if(opts.prev.button)debug(conf,"Number of items scrolled backward: "+opts.prev.items);if(opts.next.button)debug(conf,"Number of items scrolled forward: "+opts.next.items)}};$cfs._cfs_build=function(){$cfs.data("cfs_isCarousel",true);var e={textAlign:$cfs.css("textAlign"),"float":$cfs.css("float"),position:$cfs.css("position"),top:$cfs.css("top"),right:$cfs.css("right"),bottom:$cfs.css("bottom"),left:$cfs.css("left"),width:$cfs.css("width"),height:$cfs.css("height"),marginTop:$cfs.css("marginTop"),marginRight:$cfs.css("marginRight"),marginBottom:$cfs.css("marginBottom"),marginLeft:$cfs.css("marginLeft")};switch(e.position){case"absolute":var t="absolute";break;case"fixed":var t="fixed";break;default:var t="relative"}$wrp.css(e).css({overflow:"hidden",position:t});$cfs.data("cfs_origCss",e).css({textAlign:"left","float":"none",position:"absolute",top:0,left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});if(opts.usePadding){$cfs.children().each(function(){var e=parseInt($(this).css(opts.d["marginRight"]));if(isNaN(e))e=0;$(this).data("cfs_origCssMargin",e)})}};$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events();$cfs.bind(cf_e("stop",conf),function(e,t){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),t)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,t,n){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(t&&crsl.isScrolling){scrl.isStopped=true;var r=getTime()-scrl.startTime;scrl.duration-=r;if(scrl.pre)scrl.pre.duration-=r;if(scrl.post)scrl.post.duration-=r;sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(n)tmrs.timePassed+=getTime()-tmrs.startTime}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onPausePause){var i=opts.auto.pauseDuration-tmrs.timePassed,s=100-Math.ceil(i*100/opts.auto.pauseDuration);opts.auto.onPausePause.call($tt0,s,i)}return true});$cfs.bind(cf_e("play",conf),function(e,t,n,r){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var i=[t,n,r],s=["string","number","boolean"],o=cf_sortParams(i,s);var t=o[0],n=o[1],r=o[2];if(t!="prev"&&t!="next")t=crsl.direction;if(typeof n!="number")n=0;if(typeof r!="boolean")r=false;if(r){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var u=opts.auto.pauseDuration+n;dur2=u-tmrs.timePassed;perc=100-Math.ceil(dur2*100/u);tmrs.auto=setTimeout(function(){if(opts.auto.onPauseEnd){opts.auto.onPauseEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),t)}else{$cfs.trigger(cf_e(t,conf),opts.auto)}},dur2);if(opts.auto.onPauseStart){opts.auto.onPauseStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,n,r){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}if(opts.items.minimum>=itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+", "+opts.items.minimum+" needed): Not scrolling.")}var i=[t,n,r],s=["object","number/string","function"],o=cf_sortParams(i,s);var t=o[0],n=o[1],r=o[2];var u=e.type.slice(conf.events.prefix.length);if(typeof t!="object"||t==null)t=opts[u];if(typeof r=="function")t.onAfter=r;if(typeof n!="number"){if(opts.items.filter!="*"){n="visible"}else{var a=[n,t.items,opts[u].items];for(var o=0,f=a.length;o<f;o++){if(typeof a[o]=="number"||a[o]=="page"||a[o]=="visible"){n=a[o];break}}}switch(n){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(u+"Page",[t,r]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){n=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[u,[t,n,r]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(t.duration>0){if(crsl.isScrolling){if(t.queue)$cfs.trigger(cf_e("queue",conf),[u,[t,n,r]]);e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}if(t.conditions&&!t.conditions.call($tt0)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+u,conf),[t,n]);if(opts.synchronise){var l=opts.synchronise,c=[t,n];for(var h=0,f=l.length;h<f;h++){var p=u;if(!l[h][2])p=p=="prev"?"next":"prev";if(!l[h][1])c[0]=l[h][0].triggerHandler("_cfs_triggerEvent",["configuration",p]);c[1]=n+l[h][3];l[h][0].trigger("_cfs_triggerEvent",["slide_"+p,c])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}if(opts.usePadding)sz_resetMargin(r,opts);if(typeof n!="number"){if(opts.items.visibleConf.variable){n=gn_getVisibleItemsPrev(r,opts,itms.total-1)}else if(opts.items.filter!="*"){var i=typeof t.items=="number"?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsPrevFilter(r,opts,itms.total-1,i)}else{n=opts.items.visible}n=cf_getAdjust(n,opts,t.items,$tt0)}if(!opts.circular){if(itms.total-n<itms.first){n=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var s=gn_getVisibleItemsNext(r,opts,itms.total-n);if(opts.items.visible+n<=s&&n<itms.total){n++;s=gn_getVisibleItemsNext(r,opts,itms.total-n)}opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var s=gn_getVisibleItemsNextFilter(r,opts,itms.total-n);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding)sz_resetMargin(r,opts,true);if(n==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+n+" items backward.");itms.first+=n;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&t.onEnd)t.onEnd.call($tt0);if(!opts.infinite)nv_enableNavi(opts,itms.first,conf)}$cfs.children().slice(itms.total-n,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+n){$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(true).appendTo($cfs)}var r=$cfs.children(),o=gi_getOldItemsPrev(r,opts,n),u=gi_getNewItemsPrev(r,opts),a=r.eq(n-1),f=o.last(),l=u.last();if(opts.usePadding)sz_resetMargin(r,opts);if(opts.align){var c=cf_getAlignPadding(u,opts),h=c[0],p=c[1]}else{var h=0,p=0}var d=h<0?opts.padding[opts.d[3]]:0;if(t.fx=="directscroll"&&opts.items.visible<n){var v=r.slice(opts.items.visibleConf.old,n),m=opts.items[opts.d["width"]];v.each(function(){var e=$(this);e.data("isHidden",e.is(":hidden")).hide()});opts.items[opts.d["width"]]="variable"}else{var v=false}var g=ms_getTotalSize(r.slice(0,n),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(u,opts,true),opts,!opts.usePadding);if(v)opts.items[opts.d["width"]]=m;if(opts.usePadding){sz_resetMargin(r,opts,true);if(p>=0){sz_resetMargin(f,opts,opts.padding[opts.d[1]])}sz_resetMargin(a,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=p;opts.padding[opts.d[3]]=h}var b={},w=t.duration;if(t.fx=="none")w=0;else if(w=="auto")w=opts.scroll.duration/opts.scroll.items*n;else if(w<=0)w=0;else if(w<10)w=g/w;scrl=sc_setScroll(w,t.easing);if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){scrl.anims.push([$wrp,y])}if(opts.usePadding){var E=opts.padding[opts.d[3]];if(l.not(a).length){var S={};S[opts.d["marginRight"]]=a.data("cfs_origCssMargin");if(h<0)a.css(S);else scrl.anims.push([a,S])}if(l.not(f).length){var x={};x[opts.d["marginRight"]]=f.data("cfs_origCssMargin");scrl.anims.push([f,x])}if(p>=0){var T={};T[opts.d["marginRight"]]=l.data("cfs_origCssMargin")+opts.padding[opts.d[1]];scrl.anims.push([l,T])}}else{var E=0}b[opts.d["left"]]=E;var N=[o,u,y,w];if(t.onBefore)t.onBefore.apply($tt0,N);clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,N);switch(t.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(t.fx){case"crossfade":case"cover":case"uncover":var C=$cfs.clone().appendTo($wrp);break}switch(t.fx){case"uncover":C.children().slice(0,n).remove();case"crossfade":case"cover":C.children().slice(opts.items.visible).remove();break}switch(t.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":C.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){C.remove()}]);scrl.post.anims.push([C,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,C,opts,true);break;case"uncover":scrl=fx_uncover(scrl,$cfs,C,opts,true,n);break}var k=function(){var e=opts.items.visible+n-itms.total;if(e>0){$cfs.children().slice(itms.total).remove();o=$($cfs.children().slice(itms.total-(opts.items.visible-e)).get().concat($cfs.children().slice(0,e).get()))}if(v){v.each(function(){var e=$(this);if(!e.data("isHidden"))e.show()})}if(opts.usePadding){var r=$cfs.children().eq(opts.items.visible+n-1);r.css(opts.d["marginRight"],r.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre)scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing);var i=function(){switch(t.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var e=[o,u,y];if(t.onAfter)t.onAfter.apply($tt0,e);clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,e);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused)$cfs.trigger(cf_e("play",conf))};switch(t.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},i]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},i]);sc_startScroll(scrl.pre);break;default:i();break}};scrl.anims.push([$cfs,b,k]);crsl.isScrolling=true;$cfs.css(opts.d["left"],-(g-d));tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}if(opts.usePadding)sz_resetMargin(r,opts);if(typeof n!="number"){if(opts.items.filter!="*"){var i=typeof t.items=="number"?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsNextFilter(r,opts,0,i)}else{n=opts.items.visible}n=cf_getAdjust(n,opts,t.items,$tt0)}var s=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var o=gn_getVisibleItemsNext(r,opts,n),i=gn_getVisibleItemsPrev(r,opts,s-1)}else{var o=opts.items.visible,i=opts.items.visible}if(n+o>s){n=s-i}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var o=gn_getVisibleItemsNextTestCircular(r,opts,n,s);while(opts.items.visible-n>=o&&n<itms.total){n++;o=gn_getVisibleItemsNextTestCircular(r,opts,n,s)}opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var o=gn_getVisibleItemsNextFilter(r,opts,n);opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding)sz_resetMargin(r,opts,true);if(n==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+n+" items forward.");itms.first-=n;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&t.onEnd)t.onEnd.call($tt0);if(!opts.infinite)nv_enableNavi(opts,itms.first,conf)}if(itms.total<opts.items.visible+n){$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(true).appendTo($cfs)}var r=$cfs.children(),u=gi_getOldItemsNext(r,opts),a=gi_getNewItemsNext(r,opts,n),f=r.eq(n-1),l=u.last(),c=a.last();if(opts.usePadding)sz_resetMargin(r,opts);if(opts.align){var h=cf_getAlignPadding(a,opts),p=h[0],d=h[1]}else{var p=0,d=0}if(t.fx=="directscroll"&&opts.items.visibleConf.old<n){var v=r.slice(opts.items.visibleConf.old,n),m=opts.items[opts.d["width"]];v.each(function(){var e=$(this);e.data("isHidden",e.is(":hidden")).hide()});opts.items[opts.d["width"]]="variable"}else{var v=false}var g=ms_getTotalSize(r.slice(0,n),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(a,opts,true),opts,!opts.usePadding);if(v)opts.items[opts.d["width"]]=m;if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}if(opts.usePadding){sz_resetMargin(r,opts,true);sz_resetMargin(l,opts,opts.padding[opts.d[1]])}if(opts.align){opts.padding[opts.d[1]]=d;opts.padding[opts.d[3]]=p}var b={},w=t.duration;if(t.fx=="none")w=0;else if(w=="auto")w=opts.scroll.duration/opts.scroll.items*n;else if(w<=0)w=0;else if(w<10)w=g/w;scrl=sc_setScroll(w,t.easing);if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){scrl.anims.push([$wrp,y])}if(opts.usePadding){var E=c.data("cfs_origCssMargin");if(d>=0){E+=opts.padding[opts.d[1]]}c.css(opts.d["marginRight"],E);if(f.not(l).length){var S={};S[opts.d["marginRight"]]=l.data("cfs_origCssMargin");scrl.anims.push([l,S])}var x=f.data("cfs_origCssMargin");if(p>=0){x+=opts.padding[opts.d[3]]}var T={};T[opts.d["marginRight"]]=x;scrl.anims.push([f,T])}b[opts.d["left"]]=-g;if(p<0){b[opts.d["left"]]+=p}var N=[u,a,y,w];if(t.onBefore)t.onBefore.apply($tt0,N);clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,N);switch(t.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(t.fx){case"crossfade":case"cover":case"uncover":var C=$cfs.clone().appendTo($wrp);break}switch(t.fx){case"uncover":C.children().slice(opts.items.visibleConf.old).remove();break;case"crossfade":case"cover":C.children().slice(0,n).remove();C.children().slice(opts.items.visible).remove();break}switch(t.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":C.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){C.remove()}]);scrl.post.anims.push([C,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,C,opts,false);break;case"uncover":scrl=fx_uncover(scrl,$cfs,C,opts,false,n);break}var k=function(){var e=opts.items.visible+n-itms.total,i=opts.usePadding?opts.padding[opts.d[3]]:0;$cfs.css(opts.d["left"],i);if(e>0){$cfs.children().slice(itms.total).remove()}var s=$cfs.children().slice(0,n).appendTo($cfs).last();if(e>0){a=gi_getCurrentItems(r,opts)}if(v){v.each(function(){var e=$(this);if(!e.data("isHidden"))e.show()})}if(opts.usePadding){if(itms.total<opts.items.visible+n){var o=$cfs.children().eq(opts.items.visible-1);o.css(opts.d["marginRight"],o.data("cfs_origCssMargin")+opts.padding[opts.d[3]])}s.css(opts.d["marginRight"],s.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre)scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing);var f=function(){switch(t.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var e=[u,a,y];if(t.onAfter)t.onAfter.apply($tt0,e);clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,e);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused)$cfs.trigger(cf_e("play",conf))};switch(t.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},f]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},f]);sc_startScroll(scrl.pre);break;default:f();break}};scrl.anims.push([$cfs,b,k]);crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,t,n,r,i,s,o){e.stopPropagation();var u=[t,n,r,i,s,o],a=["string/number/object","number","boolean","object","string","function"],f=cf_sortParams(u,a);var i=f[3],s=f[4],o=f[5];t=gn_getItemIndex(f[0],f[1],f[2],itms,$cfs);if(t==0)return;if(typeof i!="object")i=false;if(crsl.isScrolling){if(typeof i!="object"||i.duration>0)return false}if(s!="prev"&&s!="next"){if(opts.circular){if(t<=itms.total/2)s="next";else s="prev"}else{if(itms.first==0||itms.first>t)s="next";else s="prev"}}if(s=="prev")t=itms.total-t;$cfs.trigger(cf_e(s,conf),[i,t,o]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r-1,t,"prev",n])});$cfs.bind(cf_e("nextPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r+1,t,"next",n])});$cfs.bind(cf_e("slideToPage",conf),function(e,t,n,r,i){e.stopPropagation();if(typeof t!="number")t=$cfs.triggerHandler(cf_e("currentPage",conf));var s=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/s)-1;if(t<0)t=o;if(t>o)t=0;return $cfs.triggerHandler(cf_e("slideTo",conf),[t*s,0,true,n,r,i])});$cfs.bind(cf_e("jumpToStart",conf),function(e,t){e.stopPropagation();if(t)t=gn_getItemIndex(t,0,true,itms,$cfs);else t=0;t+=itms.first;if(t!=0){while(t>itms.total)t-=itms.total;$cfs.prepend($cfs.children().slice(t,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,t){e.stopPropagation();if(t)t=cf_getSynchArr(t);else if(opts.synchronise)t=opts.synchronise;else return debug(conf,"No carousel to synchronise.");var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),r=true;for(var i=0,s=t.length;i<s;i++){if(!t[i][0].triggerHandler(cf_e("slideTo",conf),[n,t[i][3],true])){r=false}}return r});$cfs.bind(cf_e("queue",conf),function(e,t,n){e.stopPropagation();if(typeof t=="function"){t.call($tt0,queu)}else if(is_array(t)){queu=t}else if(typeof t!="undefined"){queu.push([t,n])}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,t,n,r,i){e.stopPropagation();var s=[t,n,r,i],o=["string/object","string/number/object","boolean","number"],u=cf_sortParams(s,o);var t=u[0],n=u[1],r=u[2],i=u[3];if(typeof t=="object"&&typeof t.jquery=="undefined")t=$(t);if(typeof t=="string")t=$(t);if(typeof t!="object"||typeof t.jquery=="undefined"||t.length==0)return debug(conf,"Not a valid object.");if(typeof n=="undefined")n="end";if(opts.usePadding){t.each(function(){var e=parseInt($(this).css(opts.d["marginRight"]));if(isNaN(e))e=0;$(this).data("cfs_origCssMargin",e)})}var a=n,f="before";if(n=="end"){if(r){if(itms.first==0){n=itms.total-1;f="after"}else{n=itms.first;itms.first+=t.length}if(n<0)n=0}else{n=itms.total-1;f="after"}}else{n=gn_getItemIndex(n,i,r,itms,$cfs)}if(a!="end"&&!r){if(n<itms.first)itms.first+=t.length}if(itms.first>=itms.total)itms.first-=itms.total;var l=$cfs.children().eq(n);if(l.length){l[f](t)}else{$cfs.append(t)}itms.total=$cfs.children().length;var c=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("linkAnchors",conf));$cfs.trigger(cf_e("updatePageStatus",conf),[true,c]);return true});$cfs.bind(cf_e("removeItem",conf),function(e,t,n,r){e.stopPropagation();var i=[t,n,r],s=["string/number/object","boolean","number"],o=cf_sortParams(i,s);t=o[0];n=o[1];r=o[2];var u=false;if(t instanceof $&&t.length>1){a=$();t.each(function(e,t){var i=$cfs.trigger(cf_e("removeItem",conf),[$(this),n,r]);if(i)a=a.add(i)});return a}if(typeof t=="undefined"||t=="end"){a=$cfs.children().last()}else{t=gn_getItemIndex(t,r,n,itms,$cfs);var a=$cfs.children().eq(t);if(a.length){if(t<itms.first)itms.first-=a.length}}if(a&&a.length){a.detach();itms.total=$cfs.children().length;var f=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,f])}return a});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length);if(is_array(t))clbk[n]=t;if(typeof t=="function")clbk[n].push(t);return clbk[n]});$cfs.bind(cf_e("currentPosition",conf),function(e,t){e.stopPropagation();if(itms.first==0)var n=0;else var n=itms.total-itms.first;if(typeof t=="function")t.call($tt0,n);return n});$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var n=opts.pagination.items||opts.items.visible;var r=Math.ceil(itms.total/n-1);if(itms.first==0)var i=0;else if(itms.first<itms.total%n)var i=0;else if(itms.first==n&&!opts.circular)var i=r;else var i=Math.round((itms.total-itms.first)/n);if(i<0)i=0;if(i>r)i=r;if(typeof t=="function")t.call($tt0,i);return i});$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();$i=gi_getCurrentItems($cfs.children(),opts);if(typeof t=="function")t.call($tt0,$i);return $i});$cfs.bind(cf_e("slice",conf),function(e,t,n,r){e.stopPropagation();if(itms.total==0)return false;var i=[t,n,r],s=["number","number","function"],o=cf_sortParams(i,s);t=typeof o[0]=="number"?o[0]:0;n=typeof o[1]=="number"?o[1]:itms.total;r=o[2];t+=itms.first;n+=itms.first;while(t>itms.total){t-=itms.total}while(n>itms.total){n-=itms.total}while(t<0){t+=itms.total}while(n<0){n+=itms.total}var u=$cfs.children();if(n>t){var a=u.slice(t,n)}else{var a=$(u.slice(t,itms.total).get().concat(u.slice(0,n).get()))}if(typeof r=="function")r.call($tt0,a);return a});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length);if(typeof t=="function")t.call($tt0,crsl[n]);return crsl[n]});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(typeof a=="function"){a.call($tt0,opts)}else if(typeof a=="object"){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(typeof a!="undefined"){if(typeof b=="function"){var val=eval("opts."+a);if(typeof val=="undefined")val="";b.call($tt0,val)}else if(typeof b!="undefined"){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);$cfs._cfs_bind_buttons();var siz=sz_setSizes($cfs,opts,false);$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,t,n){e.stopPropagation();if(typeof t=="undefined"||t.length==0)t=$("body");else if(typeof t=="string")t=$(t);if(typeof t!="object")return debug(conf,"Not a valid object.");if(typeof n!="string"||n.length==0)n="a.caroufredsel";t.find(n).each(function(){var e=this.hash||"";if(e.length>0&&$cfs.children().index($(e))!=-1){$(this).unbind("click").click(function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),e)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,t,n){e.stopPropagation();if(!opts.pagination.container)return;if(t){var r=opts.pagination.items||opts.items.visible,i=Math.ceil(itms.total/r);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var e=0;e<i;e++){var t=$cfs.children().eq(gn_getItemIndex(e*r,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder(e+1,t))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[e*r,0,true,opts.pagination])})})})}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq($cfs.triggerHandler(cf_e("currentPage",conf))).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var t=$cfs.children(),n=opts.items.visible;if(opts.items.visibleConf.variable)n=gn_getVisibleItemsNext(t,opts,0);else if(opts.items.filter!="*")n=gn_getVisibleItemsNextFilter(t,opts,0);if(!opts.circular&&itms.first!=0&&n>itms.first){if(opts.items.visibleConf.variable){var r=gn_getVisibleItemsPrev(t,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var r=gn_getVisibleItemsPrevFilter(t,opts,itms.first)-itms.first}else{r=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+r+" items backward.");$cfs.trigger("prev",r)}opts.items.visible=cf_getItemsAdjust(n,opts,opts.items.visibleConf.adjust,$tt0);return sz_setSizes($cfs,opts)});$cfs.bind(cf_e("destroy",conf),function(e,t){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(t){$cfs.trigger(cf_e("jumpToStart",conf))}if(opts.usePadding){sz_resetMargin($cfs.children(),opts)}$cfs.css($cfs.data("cfs_origCss"));$cfs._cfs_unbind_events();$cfs._cfs_unbind_buttons();$wrp.replaceWith($cfs);return true});$cfs.bind("_cfs_triggerEvent",function(e,t,n){e.stopPropagation();return $cfs.triggerHandler(cf_e(t,conf),n)})};$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};$cfs._cfs_bind_buttons=function(){$cfs._cfs_unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var t=false,n=null;if(crsl.isPaused){t="play"}else if(opts.auto.pauseOnEvent){t="pause";n=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(t){$cfs.trigger(cf_e(t,conf),n)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if($.fn.mousewheel){if(opts.prev.mousewheel){if(!crsl.mousewheelPrev){crsl.mousewheelPrev=true;$wrp.mousewheel(function(e,t){if(t>0){e.preventDefault();var n=bt_mousesheelNumber(opts.prev.mousewheel);$cfs.trigger(cf_e("prev",conf),n)}})}}if(opts.next.mousewheel){if(!crsl.mousewheelNext){crsl.mousewheelNext=true;$wrp.mousewheel(function(e,t){if(t<0){e.preventDefault();var n=bt_mousesheelNumber(opts.next.mousewheel);$cfs.trigger(cf_e("next",conf),n)}})}}}if($.fn.touchwipe){var t=opts.prev.wipe?function(){$cfs.trigger(cf_e("prev",conf))}:null,n=opts.next.wipe?function(){$cfs.trigger(cf_e("next",conf))}:null;if(n||n){if(!crsl.touchwipe){crsl.touchwipe=true;var r={min_move_x:30,min_move_y:30,preventDefaultEvents:true};switch(opts.direction){case"up":case"down":r.wipeUp=t;r.wipeDown=n;break;default:r.wipeLeft=n;r.wipeRight=t}$wrp.touchwipe(r)}}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(t==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t>=49&&t<58){t=(t-49)*opts.items.visible;if(t<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[t,0,true,opts.pagination])}}})}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var i=$(window),s=i.width(),o=i.height();i.bind(cf_e("resize",conf,false,true,true),function(e){if(i.width()!=s||i.height()!=o){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);var t=sz_setSizes($cfs,opts,false);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,t]);s=i.width();o=i.height()}})}var i=$(window),s=i.width(),o=i.height();$cfs.bind(cf_e("updateSizesCustom",conf),function(e){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);var t=sz_setSizes($cfs,opts,false);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,t]);s=i.width();o=i.height()})};$cfs._cfs_unbind_buttons=function(){var e=cf_e("",conf),t=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(t);if(opts.auto.button)opts.auto.button.unbind(t);if(opts.prev.button)opts.prev.button.unbind(t);if(opts.next.button)opts.next.button.unbind(t);if(opts.pagination.container){opts.pagination.container.unbind(t);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheelNext:false,mousewheelPrev:false,touchwipe:false},itms={total:$cfs.children().length,first:0},tmrs={timer:null,auto:null,queue:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=options,$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;$cfs._cfs_init(opts_orig,true,starting_position);$cfs._cfs_build();$cfs._cfs_bind_events();$cfs._cfs_bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(cf_readCookie(opts.cookie))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts,false),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,itm,siz)}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,mousewheel:false,wipe:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(e,t){return'<a href="#"><span>'+e+"</span></a>"};$.fn.caroufredsel=function(e,t){return this.carouFredSel(e,t)};$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}})})(jQuery)