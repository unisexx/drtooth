/*
*****************************************************
* WEBMAN'S WORDPRESS THEME FRAMEWORK
* Created by WebMan - www.webmandesign.eu
* Copyright by WebMan - www.webmandesign.eu
*
* Theme scripts
*****************************************************
*/

var browserWidth=document.body.clientWidth;var autoAccordionDuration=typeof autoAccordionDuration=="undefined"?5e3:autoAccordionDuration;jQuery.fn.nospam=function(e){return this.each(function(){var e=null,t=jQuery(this);if(jQuery(this).is("a[data-address]")){e=t.data("address").split("").reverse().join("").replace("[at]","@").replace(/\//g,".")}else{e=t.text().split("").reverse().join("").replace("[at]","@").replace(/\//g,".")}if(e){if(t.is("a[data-address]")){t.attr("href","mailto:"+e);t.text(e)}else{t.text(e)}}})};jQuery(function(){function e(){var e="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-device-pixel-ratio: 1.5),(min-resolution: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}function d(){if(""==h.val())h.val(p);else if(p==h.val())h.val("")}jQuery(".no-js").removeClass("no-js");jQuery(".lie8 img[height]").removeAttr("height");jQuery("html.lie8 .price-spec li:nth-child(even)").addClass("even");jQuery(".top-of-page").hide();jQuery('.top-of-page, a[href="#top"]').click(function(){jQuery("html, body").animate({scrollTop:0},400);return false});jQuery(window).scroll(function(){var e=jQuery(window).scrollTop();if(200<e)jQuery(".top-of-page").fadeIn();else jQuery(".top-of-page").fadeOut()});if(e()&&jQuery(".logo img").data("highdpi"))jQuery(".logo img").attr("src",jQuery(".logo img").data("highdpi"));jQuery(".image-container a").hover(function(){jQuery(this).find(".overlay").stop().animate({top:0},250)},function(){jQuery(this).find(".overlay").stop().animate({top:"150%"},250)});jQuery(".column.last, hr").after('<div class="clear" />');jQuery(".wpcf7 p, .wpcf7 span").each(function(){if(""==jQuery.trim(jQuery(this).html()))jQuery(this).remove()});if("rtl"!=jQuery("html").attr("dir"))jQuery('.widget_product_search input[type="text"]').css({paddingRight:jQuery('.widget_product_search input[type="submit"]').outerWidth()+10});else jQuery('.widget_product_search input[type="text"]').css({paddingLeft:jQuery('.widget_product_search input[type="submit"]').outerWidth()+10});jQuery(".nav-main li ul").parent().find("> .inner").append('<ins class="mobile-submenu-open wmicon-down" />');if(767<browserWidth){jQuery(".nav-main li, .top-bar li").hover(function(){jQuery(this).find("> ul").stop(true,true).fadeIn(300)},function(){jQuery(this).find("> ul").stop(true,true).fadeOut(100)});jQuery(".wm-sub-pages a, .widget_archive a, .widget_categories a, .widget_links a, .widget_meta a, .widget_pages a, .widget_nav_menu a, .widget_nav_menu .inner, .sitemap .no-menu a, ul.sub-pages a, .widget_login a, .widget_product_categories a").hover(function(){var e=jQuery(this);if(!e.closest(".wrap").parent().hasClass("top-bar")&&!e.parent().hasClass("widget-title")&&!e.parent().hasClass("text-holder"))e.stop().animate({textIndent:5},150)},function(){jQuery(this).stop().animate({textIndent:0},150)})}jQuery(".nav-main .mobile-menu").click(function(){jQuery(".nav-main .menu").toggle()});jQuery(window).bind("resize orientationchange",function(){browserWidth=document.body.clientWidth;(function(){if(768>browserWidth){jQuery(".nav-main .menu").hide();jQuery(".nav-main .mobile-menu").show()}else{jQuery(".nav-main .menu").show();jQuery(".nav-main .mobile-menu").hide()}})()});jQuery(".mobile-submenu-open").click(function(){var e=jQuery(this).toggleClass("active");e.parent().next("ul").toggle();return false});var t=jQuery("#video-slider.has-cover");t.find(".video-container").hide();t.prev(".video-cover").click(function(){var e=jQuery(this),n=e.closest(".slider").height(e.height()),r=t.find(".video-container iframe").attr("src");e.fadeOut(400,function(){n.find(".video-slider .video-container").fadeIn(250,function(){n.animate({height:jQuery(this).find("iframe").height()},250,function(){jQuery(this).height("auto")})})});if(-1==r.indexOf("?"))r+="?autoplay=1";else r+="&autoplay=1";t.find(".video-container iframe").attr("src",r)});if(jQuery().prettyPhoto){var n='a[href$=".bmp"],a[href$=".gif"],a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".BMP"],a[href$=".GIF"],a[href$=".JPG"],a[href$=".JPEG"],a[href$=".PNG"]',r=jQuery(n+', .lightbox, a.modal, a[data-modal], a[rel^="prettyPhoto"]');if(1<r.length)r.attr("rel","prettyPhoto[pp_gal]");jQuery("a[data-rel]").each(function(){var e=jQuery(this);e.attr("rel",e.data("rel"))});r.prettyPhoto({show_title:false,theme:"pp_default",slideshow:6e3,deeplinking:true,overlay_gallery:false,social_tools:false})}jQuery("a.email-nospam").nospam();if(jQuery("div.tabs-wrapper").length){(function(){var e=jQuery("div.tabs-wrapper > ul");i=0;e.each(function(e){var t="";s=jQuery(this),tabsCount=s.children("li").length;s.find(".tab-heading").each(function(e){i++;var n=jQuery(this),r=n.closest("li").attr("id","tab-item-"+i),s=n.html(),o=tabsCount===i?" last":"";n.addClass("hide");if(n.closest("div.tabs-wrapper").hasClass("fullwidth"))t+='<li class="column col-1'+tabsCount+o+' no-margin"><a href="#tab-item-'+i+' ">'+s+"</a></li>";else t+='<li><a href="#tab-item-'+i+'">'+s+"</a></li>"});s.before('<ul class="tabs clearfix">'+t+"</ul>")})})();var s=jQuery(".tabs "),o=jQuery(".tabs + ul");s.find("li:first-child").addClass("active");o.children().hide();o.find("li:first-child").show();s.find("a").click(function(){var e=jQuery(this),t=e.attr("href").replace(/.*#(.*)/,"#$1");e.parent().addClass("active").siblings("li").removeClass("active");jQuery("li"+t).fadeIn().siblings("li").hide();return false});if(jQuery("div.tabs-wrapper.vertical.tour").length){jQuery('<div class="tour-nav"><span class="prev" data-index="-1"></span><span class="next" data-index="1"></span></div>').prependTo(".tabs-wrapper.tour ul.tabs + ul > li");var u=jQuery(".tabs-wrapper.tour ul.tabs li.active").next("li").html();jQuery(".tour-nav .next").html(u);jQuery(".tour-nav .next a").prepend('<i class="wmicon-right-circle"></i> ');jQuery(".tabs-wrapper.tour ul.tabs a").click(function(){var e=jQuery(this).closest(".tabs-wrapper"),t=e.find("ul.tabs li.active"),n=t.prev("li"),r=t.next("li");if(n.length){e.find(".tour-nav .prev").html(n.html()).attr("data-index",n.index());e.find(".tour-nav .prev a").append(' <i class="wmicon-left-circle"></i>')}else{e.find(".tour-nav .prev").html("")}if(r.length){e.find(".tour-nav .next").html(r.html()).attr("data-index",r.index());e.find(".tour-nav .next a").prepend('<i class="wmicon-right-circle"></i> ')}else{e.find(".tour-nav .next").html("")}});jQuery(".tour-nav span").click(function(){var e=jQuery(this),t=e.closest(".tabs-wrapper"),n=e.data("index"),r=t.find("ul.tabs li").eq(n).prev("li"),i=t.find("ul.tabs li").eq(n).next("li");targetTab=e.find("a").attr("href");t.find("ul.tabs li").eq(n).addClass("active").siblings("li").removeClass("active");t.find("li"+targetTab).fadeIn().siblings("li").hide();if(r.length){t.find(".tour-nav .prev").html(r.html()).attr("data-index",r.index());t.find(".tour-nav .prev a").append(' <i class="wmicon-left-circle"></i>')}else{t.find(".tour-nav .prev").html("")}if(i.length){t.find(".tour-nav .next").html(i.html()).attr("data-index",i.index());t.find(".tour-nav .next a").prepend('<i class="wmicon-right-circle"></i> ')}else{t.find(".tour-nav .next").html("")}return false})}}if(jQuery(".accordion-wrapper").length){(function(){var e=jQuery("div.accordion-wrapper > ul > li");e.each(function(e){jQuery(this).find(".accordion-heading").siblings().wrapAll('<div class="accordion-content" />')})})();jQuery(".accordion-content").slideUp();jQuery("div.accordion-wrapper > ul > li:first-child .accordion-content").slideDown().parent().addClass("active");jQuery(".accordion-heading").click(function(){var e=jQuery(this);e.next(".accordion-content").slideDown().parent().addClass("active").siblings("li").removeClass("active");e.closest(".accordion-wrapper").find("li:not(.active) > .accordion-content").slideUp()});var a=jQuery("div.accordion-wrapper.auto > ul"),f=true;a.hover(function(){f=false},function(){f=true});function l(){if(f===true){var e=jQuery("div.accordion-wrapper.auto > ul"),t=e.children().length,n=e.find("li.active"),r=n.index()+1,i=(r+1)%t;e.find("li").eq(i-1).find(".accordion-heading").trigger("click")}}var c=setInterval(l,autoAccordionDuration)}if(jQuery("div.toggle-wrapper").length){(function(){var e=jQuery("div.toggle-wrapper");e.each(function(e){jQuery(this).find("> .toggle-heading").siblings().wrapAll('<div class="toggle-content" />')})})();jQuery("div.toggle-wrapper div.toggle-wrapper").not(".active").find("> div.toggle-content").hide();jQuery("div.toggle-wrapper").find("> div.toggle-content").slideUp();jQuery("div.toggle-wrapper.active").find("> div.toggle-content").slideDown();jQuery(".toggle-heading").click(function(){jQuery(this).next("div.toggle-content").slideToggle().parent().toggleClass("active")})}jQuery('iframe[src*="youtube.com"]').each(function(e){var t=jQuery(this).attr("src");if(-1==t.indexOf("?"))t+="?wmode=transparent";else t+="&wmode=transparent";jQuery(this).attr("src",t)});jQuery(".breadcrumbs.animated-form .form-search").width(120);jQuery('.breadcrumbs.animated-form input[type="text"]').focus(function(){jQuery(this).closest(".form-search").width(200)}).blur(function(){jQuery(this).closest(".form-search").stop().animate({width:120},250)}).hover(function(){jQuery(this).closest(".form-search").stop().animate({width:200},250)},function(){var e=jQuery(this);if(!e.is(":focus"))e.closest(".form-search").stop().animate({width:120},250)});var h=jQuery('.ie .form-search input[type="text"]'),p=h.attr("placeholder");d();h.change(function(){d()});h.focus(function(){d()});if(jQuery().isotope){var v=jQuery(".filter-this"),m=v.data("layout-mode");if(v.hasClass("wrap-projects")){var g=v.find("article:first-child").outerWidth();v.width("101%").find("article").width(g)}function y(){v.isotope({layoutMode:m});jQuery(".wrap-filter a").click(function(){var e=jQuery(this),t=e.data("filter");e.closest(".filterable-content").find(".filter-this").isotope({filter:t});e.addClass("active").parent("li").siblings("li").find("a").removeClass("active");return false});jQuery(".filter-this .toggle-wrapper").click(function(){jQuery(".filter-this").isotope("reLayout")})}function b(){v.isotope({layoutMode:m,transformsEnabled:false});jQuery(".wrap-filter a").click(function(){var e=jQuery(this),t=e.data("filter");e.closest(".filterable-content").find(".filter-this").isotope({filter:t,transformsEnabled:false});e.addClass("active").parent("li").siblings("li").find("a").removeClass("active");return false});jQuery(".filter-this .toggle-wrapper").click(function(){jQuery(".filter-this").isotope("reLayout")})}if("rtl"!=jQuery("html").attr("dir")){if(jQuery("html").hasClass("ie")){y()}else{v.imagesLoaded(function(){y()})}}else{jQuery.Isotope.prototype._positionAbs=function(e,t){return{right:e,top:t}};if(jQuery("html").hasClass("ie")){b()}else{v.imagesLoaded(function(){b()})}}}if(jQuery().bxSlider){if("rtl"!=jQuery("html").attr("dir"))var w="horizontal";else var w="fade";if(767<browserWidth){jQuery(".scrollable").each(function(e){var t=jQuery(this),n=t.children().eq(0).outerWidth(true),r=n-t.children().eq(0).outerWidth(),i=t.data("columns")?t.data("columns"):3,s=t.hasClass("stack")?i:1,o=t.data("time")?t.data("time"):4e3;t.bxSlider({auto:t.hasClass("auto"),pause:o,minSlides:i,maxSlides:i,slideWidth:n,slideMargin:r,moveSlides:s,pager:false,autoHover:true,useCSS:false})})}if(jQuery(".wrap-testimonials-shortcode[data-time]").length){(function(){var e=jQuery(".wrap-testimonials-shortcode[data-time] > div");e.each(function(e){var t=jQuery(this),n=t.parent().data("time")+500;t.bxSlider({mode:w,pause:n,auto:true,autoHover:true,controls:false,adaptiveHeight:true,useCSS:false})})})()}if(jQuery(".simple-slider[data-time]").length){(function(){var e=jQuery(".simple-slider[data-time]");e.each(function(e){var t=jQuery(this),n=t.data("time")+500;t.bxSlider({mode:w,pause:n,auto:true,autoHover:true,controls:true,pager:false,adaptiveHeight:true,useCSS:false})})})()}}jQuery(".gallery-columns .column").hover(function(){jQuery(this).find(".gallery-caption").stop().animate({bottom:"-120%"})},function(){jQuery(this).find(".gallery-caption").stop().animate({bottom:0})});if(jQuery().masonry){var E=jQuery(".gallery.masonry-container");E.each(function(e){var t=jQuery(this),n=t.find("figure:first-child").outerWidth()-2;t.width("105%").find("figure").css({width:n+"px"});if(jQuery("html").hasClass("ie")){t.masonry({itemSelector:"figure"})}else{t.imagesLoaded(function(){t.masonry({itemSelector:"figure"})})}})}if(jQuery().masonry){var S=jQuery(".list-articles.masonry-container"),x=S.find("article:first-child"),T=x.outerWidth()-2,N=x.outerWidth(true)-T;if("rtl"!=jQuery("html").attr("dir"))S.width("110%").find("article").css({width:T+"px",marginRight:N});else S.width(S.width()+N).find("article").css({width:T+"px",marginLeft:N});function C(){if("rtl"!=jQuery("html").attr("dir"))S.masonry({itemSelector:"article"});else S.masonry({itemSelector:"article",isRTL:true})}if(jQuery("html").hasClass("ie")){C()}else{S.imagesLoaded(function(){C()})}}if(jQuery("div.call-to-action").length){(function(){var e=jQuery("div.call-to-action");if("rtl"!=jQuery("html").attr("dir"))e.css({paddingRight:0});else e.css({paddingLeft:0});e.each(function(e){var t=jQuery(this),n=t.find(".btn").outerWidth()+40,r=t.find(".call-to-action-title"),i=r.outerWidth()+20,s=0;if("rtl"!=jQuery("html").attr("dir"))t.find(".call-to-action-text").css({paddingRight:n});else t.find(".call-to-action-text").css({paddingLeft:n});if(t.hasClass("has-title")){if("rtl"!=jQuery("html").attr("dir"))t.css({paddingLeft:i});else t.css({paddingRight:i});s=(r.outerHeight()-r.find("h2").outerHeight())/2;r.find("h2").css({marginTop:s+"px"})}})})()}if(jQuery().bxSlider&&jQuery(".project-slider").length){(function(){var e=jQuery(".project-slider > ul");e.each(function(e){var t=jQuery(this),n=t.data("time")+500;t.bxSlider({mode:w,auto:true,autoHover:true,controls:true,adaptiveHeight:true,pagerCustom:"#project-slider-pager"})})})()}})